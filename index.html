<!-- local host setup: 
  in terminal, type "python -m SimpleHTTPServer" 
  access in browser by typing "localhost:8000" -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XR for Sustainability</title>

<!-- load aframe -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
<!-- aframe environment -->
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
<!-- allow for features like mouseup mousedown -->
  <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
<!-- allow micro interations (animation) -->
  <script src="https://unpkg.com/aframe-animation-component/dist/aframe-animation-component.min.js"></script>
<!-- layout -->
  <script src="https://unpkg.com/aframe-layout-component@4.3.1/dist/aframe-layout-component.min.js"></script> 
</head>

<body>
  <a-scene>
    <a-assets>
      <img id="welcome" src="assets/a_welcome.png">
      <!-- scene 1 -->
      <img id="plastic" src="assets/chara/a_plastic.png">
      <img id="paper" src="assets/chara/a_paper.png">
      <img id="compost" src="assets/chara/a_compost.png">
      <img id="metal" src="assets/chara/a_metal.png">
      <img id="glass" src="assets/chara/a_glass.png">
      <!-- scene 2 -->
      <img id="wall" src="assets/wall2.jpeg">
      <img id="goddess" src="assets/goddess.png">
      <img id="sayletsgo" src="assets/a_sayletsgo.png">
      <img id="john" src="assets/a_john_flipped.png">
      <img id="door1" src="assets/doors/a_door1.png">
      <img id="door2" src="assets/doors/a_door2.png">
      <img id="door3" src="assets/doors/a_door3.png">
      <img id="door4" src="assets/doors/a_door4.png">
      <img id="door5" src="assets/doors/a_door5.png">
      <img id="door6" src="assets/doors/a_door6.png">
      <img id="door7" src="assets/doors/a_door7.png">
      <!-- scene 3 -->
      <img id="scene3wall" src="assets/wall.jpg">
      <img id="john3" src="assets/a_john.png">
      <img id="arrow" src="assets/arrow.png">
      <img id="wallarrow" src="assets/wallarrow.png">
      <video id="recyclevid" src="recycle_plastic.mp4"></video>
      <img id="process1btn" src="assets/facility_process/a_shred_btn.png">
      <img id="process2btn" src="assets/facility_process/a_clean_btn.png">
      <img id="process3btn" src="assets/facility_process/a_melt_btn.png">
      <img id="process4btn" src="assets/facility_process/a_form_btn.png">
      <img id="process5btn" src="assets/facility_process/a_cut_btn.png">
      <img id="process1" src="assets/facility_process/a_shred.png">
      <img id="process2" src="assets/facility_process/a_clean.png">
      <img id="process3" src="assets/facility_process/a_melt.png">
      <img id="process4" src="assets/facility_process/a_form.png">
      <img id="process5" src="assets/facility_process/a_cut.png">
      <img id="preparejohn" src="assets/facility_process/transform/a_preparejohn.png">
      <img id="shredjohn" src="assets/facility_process/transform/a_shredjohn.png">
      <img id="cleanjohn" src="assets/facility_process/transform/a_cleanjohn.png">
      <img id="meltjohn" src="assets/facility_process/transform/a_meltjohn.png">
      <img id="formjohn" src="assets/facility_process/transform/a_formjohn.png">
      <img id="cutjohn" src="assets/facility_process/transform/a_cutjohn.png">
      <img id="johnready" src="assets/facility_process/transform/a_ready.png">
      <!-- scene 4 -->
      <img id="scene4floor" src="assets/wall2.jpg">
      <!-- <a-asset-item id="pelletmodel" src="assets/honda/scene.gltf"></a-asset-item>  -->
    </a-assets>
    <a-entity environment="preset: forest; dressingAmount: 250"></a-entity>

    <!-- welcome scene -->
    <a-plane id="welcome_div"
      position="0 1.7 -1"
      width="2"
      height="1"
      opacity="0"
      event-set__welcome="_event: click; visible: false"
      onclick="control_intructions()">
      <a-image id="welcome_image"
        position="0 0 0"
        src="#welcome"
        width="2"
        height="1"
        opacity="0"
        animation="property: opacity; dir: normal; dur: 1000;
        easing: easeOutQuad; loop: false; from:0; to: 1; delay: 1000;">
      </a-image>
    </a-plane>

    <!-- first scene - choose character -->
    <a-entity id="scene1"
      visible="false">
      <!-- character selection -->
      <!-- <a-box
        position="0 1.5 -1.5"
        onclick="toScene4()"></a-box> -->


      <a-text
        position="0 2.7 -3"
        value="Let's choose a character first"
        color="#000000"
        align="center">
      </a-text>
      <a-text 
        position="0 2.5 -3"
        value="Hover over the boxes for more details"
        color="#000000"
        align="center"
        scale="0.5 0.5 0.5">
      </a-text>
      <a-box src="#plastic" 
        position="0 1.5 -3"
        event-set__hover="_event: mouseenter; _target: #selectplastic; color: #4cbb6d"
        event-set__leave="_event: mouseleave; _target: #selectplastic; color: grey"
        event-set__hover2="_event: mouseenter; _target: #plasticText; visible: true"
        event-set__leave2="_event: mouseleave; _target: #plasticText; visible: false"
        >
        <a-box id="selectplastic"
          scale="1.1 0.2 1.1"
          color="grey"
          position="0 -0.35 0"
          onclick="callconfirm()">
          <a-text
            value="Select" 
            align="center" 
            color="#FFF" 
            scale="0.46 2.5 0"
            position="0 0 0.51">
          </a-text>
        </a-box>
        <a-text id="plasticText" 
          value="Name: John\nType: Plastic bottle #1\nTraits: Persistent, 300 years old\nand have been through a lot" 
          align="center" 
          color="#FFF" 
          visible="false" 
          scale="0.5 0.5 0.5"
          position="0 0.8 0.4"
          geometry="primitive: plane; width: 3.5; height: 1.5" 
          material="color: #111111">
        </a-text>
        <a-box id="confirmbox"
          scale="0.5 0.2 0.2"
          color="#4cbb6d"
          visible="false"
          position="0 0.35 0.8"
          onclick="toScene2()">
          <a-text
            value="Confirm" 
            align="center" 
            color="#FFF" 
            scale="1 2.5 0"
            position="0 0 0.51">
          </a-text>
        </a-box>
      </a-box>

      <a-box src="#paper" 
        position="1.5 1.5 -3"
        event-set__hover="_event: mouseenter; _target: #selectpaper; color: #a3a3a3"
        event-set__leave="_event: mouseleave; _target: #selectpaper; color: grey"
        event-set__hover2="_event: mouseenter; _target: #paperText; visible: true"
        event-set__leave2="_event: mouseleave; _target: #paperText; visible: false"
        >
        <a-box id="selectpaper"
          scale="1.1 0.2 1.1"
          color="grey"
          position="0 -0.35 0">
          <a-text
            value="Not Available Yet" 
            align="center" 
            color="#FFF" 
            scale="0.46 2.5 0"
            position="0 0 0.51">
          </a-text>
        </a-box>
        <a-text id="paperText" 
          value="Name: Aspen\nType: Cardboard box\nTraits: Supportive, likes to tell\nstories of their adventures" 
          align="center" 
          color="#FFF" 
          visible="false" 
          scale="0.5 0.5 0.5"
          position="0 0.8 0.4"
          geometry="primitive: plane; width: 3.6; height: 1.5" 
          material="color: #111111">
        </a-text>
      </a-box>

      <a-box src="#compost" 
        position="-1.5 1.5 -3"
        event-set__hover="_event: mouseenter; _target: #selectcompost; color: #a3a3a3"
        event-set__leave="_event: mouseleave; _target: #selectcompost; color: grey"
        event-set__hover2="_event: mouseenter; _target: #compostText; visible: true"
        event-set__leave2="_event: mouseleave; _target: #compostText; visible: false"
        >
        <a-box id="selectcompost"
          scale="1.1 0.2 1.1"
          color="grey"
          position="0 -0.35 0">
          <a-text
            value="Not Available Yet" 
            align="center" 
            color="#FFF" 
            scale="0.46 2.5 0"
            position="0 0 0.51">
          </a-text>
        </a-box>
        <a-text id="compostText" 
          value="Name: Cypress\nType: Compost\nTraits: Encouraging, will\nmake you a good cup of tea" 
          align="center" 
          color="#FFF" 
          visible="false" 
          scale="0.5 0.5 0.5"
          position="0 0.8 0.4"
          geometry="primitive: plane; width: 3.6; height: 1.5" 
          material="color: #111111">
        </a-text>
      </a-box>

      <a-box src="#metal" 
        position="3 1.5 -3"
        event-set__hover="_event: mouseenter; _target: #selectmetal; color: #a3a3a3"
        event-set__leave="_event: mouseleave; _target: #selectmetal; color: grey"
        event-set__hover2="_event: mouseenter; _target: #metalText; visible: true"
        event-set__leave2="_event: mouseleave; _target: #metalText; visible: false"
        >
        <a-box id="selectmetal"
          scale="1.1 0.2 1.1"
          color="grey"
          position="0 -0.35 0">
          <a-text
            value="Not Available Yet" 
            align="center" 
            color="#FFF" 
            scale="0.46 2.5 0"
            position="0 0 0.51">
          </a-text>
        </a-box>
        <a-text id="metalText" 
          value="Name: Aurelia\nType: Metal can\nTraits: Stable, your secret\nis safe with them"
          align="center" 
          color="#FFF" 
          visible="false" 
          scale="0.5 0.5 0.5"
          position="0 0.8 0.4"
          geometry="primitive: plane; width: 3.6; height: 1.5" 
          material="color: #111111">
        </a-text>
      </a-box>

      <a-box src="#glass" 
        position="-3 1.5 -3"
        event-set__hover="_event: mouseenter; _target: #selectglass; color: #a3a3a3"
        event-set__leave="_event: mouseleave; _target: #selectglass; color: grey"
        event-set__hover2="_event: mouseenter; _target: #glassText; visible: true"
        event-set__leave2="_event: mouseleave; _target: #glassText; visible: false"
        >
        <a-box id="selectglass"
          scale="1.1 0.2 1.1"
          color="grey"
          position="0 -0.35 0">
          <a-text
            value="Not Available Yet" 
            align="center" 
            color="#FFF" 
            scale="0.46 2.5 0"
            position="0 0 0.51">
          </a-text>
        </a-box>
        <a-text id="glassText" 
          value="Name: Prism\nType: Glass bottle\nTraits: Imaginative, sees the\nworld as what it could be"
          align="center" 
          color="#FFF" 
          visible="false" 
          scale="0.5 0.5 0.5"
          position="0 0.8 0.4"
          geometry="primitive: plane; width: 3.6; height: 1.5" 
          material="color: #111111">
        </a-text>
      </a-box>
    </a-entity>
    
    <!-- second scene - sort by type -->
    <!-- environment setup -->
    <a-entity id="scene2" visible="false">
      <a-box id="scene2front"
        src="#wall"
        position="0 0 -5"
        scale="25 15 0.2"
        material="side: double;">
      </a-box>
      <a-box id="scene2back"
        src="#wall"
        position="0 0 5"
        scale="25 15 0.2"
        material="side: double;">
      </a-box>
      <a-box id="scene2roof"
        src="#wall"
        position="0 7 0"
        scale="35 0.2 20"
        material="side: double;">
      </a-box>
    
      <!-- scene 2 welcome -->
      <a-entity id=goddess_welcome
        visible="true">
        <a-image id="goddess"
          position="0 1.8 -4.3"
          src="#goddess"
          width="2"
          height="4.24">
        </a-image>
        <a-text
          position="0 2.2 -4"
          scale="1.7 1.7 1.7"
          value="Welcome to the recycling facility!\nLet's get you cleaned up for your new life"
          color="#ffffff"
          align="center">
        </a-text>
        <a-plane id="johnresponse"
          event-set__click="_event: click; _target: #johnresponse_image; src: #letsgo"
          rotation="-10 0 0"
          position="0 0.7 -3"
          width="2.18"
          height="1"
          onclick="resetScene2()">
          <a-image id="johnresponse_image"
            visible="true"
            position="0 0 0"
            src="#sayletsgo"
            width="2.18"
            height="1">
          </a-image>
        </a-plane>
      </a-entity>

      <!-- doors -->
      <a-entity id="wallofdoors"
        visible="false">
        <a-text
          position="0 4.2 -3.7"
          value="Click to enter the door with John's corresponding recycle type"
          color="#FFFFFF"
          align="center">
        </a-text>
        <a-text 
          position="0 3.8 -3.7"
          value="John's profile is on the wall behind you"
          color="#FFFFFF"
          align="center"
          scale="0.5 0.5 0.5">
        </a-text>
        <a-image id="john_image"
          position="0 1.5 4"
          src="#john"
          scale="2 2 2">
        </a-image>

        <a-image id="thisdoor"
          event-set__down="_event: mousedown; position: -7.5 2 -3.8"
          event-set__up="_event: mouseup; position: -7.5 1.8 -3.8"
          event-set__leave="_event: mouseleave; position: -7.5 1.8 -3.8"
          event-set__down2="_event: mousedown; _target: #door1text; visible: true"
          event-set__up2="_event: mouseup; _target: #door1text; visible: false"
          event-set__leave2="_event: mouseleave; _target: #door1text; visible: false"
          position="-7.5 1.8 -3.8"
          src="#door1"
          width="2"
          height="3.42"
          onclick="callconfirmbox2()">
          <a-text id="door1text" 
            value="Correct!" 
            align="center" 
            color="#FFF" 
            visible="false" 
            scale="0.6 0.6 0.6"
            position="0 0.8 0.1"
            geometry="primitive: plane; width: 3.5; height: 1.5" 
            material="color: #111111">
          </a-text>
        </a-image>
        <a-box id="confirmbox2"
          scale="1 0.4 0.1"
          color="#4cbb6d"
          visible="false"
          position="-7.5 0.4 -3.4"
          onclick="toScene3()">
          <a-text
            value="Confirm" 
            align="center" 
            color="#FFF" 
            scale="1 2.5 0"
            position="0 0 0.51">
          </a-text>
        </a-box>

        <a-image
          event-set__down="_event: mousedown; position: -5 2 -3.8"
          event-set__up="_event: mouseup; position: -5 1.8 -3.8"
          event-set__leave="_event: mouseleave; position: -5 1.8 -3.8"
          event-set__down2="_event: mousedown; _target: #door2text; visible: true"
          event-set__up2="_event: mouseup; _target: #door2text; visible: false"
          event-set__leave2="_event: mouseleave; _target: #door2text; visible: false"
          position="-5 1.8 -3.8"
          src="#door2"
          width="2"
          height="3.42">
          <a-text id="door2text"
            value="Oops! Incorrect, but some cities\ndo combine plastic #1 and #2"
            align="center" 
            color="#FFF" 
            visible="false" 
            scale="0.6 0.6 0.6"
            position="0 0.8 0.1"
            geometry="primitive: plane; width: 3.5; height: 1.5" 
            material="color: #111111"></a-text>
        </a-image>

        <a-image
          event-set__down="_event: mousedown; position: -2.5 2 -3.8"
          event-set__up="_event: mouseup; position: -2.5 1.8 -3.8"
          event-set__leave="_event: mouseleave; position: -2.5 1.8 -3.8"
          event-set__down2="_event: mousedown; _target: #door3text; visible: true"
          event-set__up2="_event: mouseup; _target: #door3text; visible: false"
          event-set__leave2="_event: mouseleave; _target: #door3text; visible: false"
          position="-2.5 1.8 -3.8"
          src="#door3"
          width="2"
          height="3.42">
          <a-text id="door3text"
            value="Oops! Try another door"
            align="center" 
            color="#FFF" 
            visible="false" 
            scale="0.6 0.6 0.6"
            position="0 0.8 0.1"
            geometry="primitive: plane; width: 3.5; height: 1.5" 
            material="color: #111111"></a-text>
        </a-image>

        <a-image
          event-set__down="_event: mousedown; position: 0 2 -3.8"
          event-set__up="_event: mouseup; position: 0 1.8 -3.8"
          event-set__leave="_event: mouseleave; position: 0 1.8 -3.8"
          event-set__down2="_event: mousedown; _target: #door4text; visible: true"
          event-set__up2="_event: mouseup; _target: #door4text; visible: false"
          event-set__leave2="_event: mouseleave; _target: #door4text; visible: false"
          position="0 1.8 -3.8"
          src="#door4"
          width="2"
          height="3.42">
          <a-text id="door4text"
            value="Oops! Try another door"
            align="center" 
            color="#FFF" 
            visible="false" 
            scale="0.6 0.6 0.6"
            position="0 0.8 0.1"
            geometry="primitive: plane; width: 3.5; height: 1.5" 
            material="color: #111111"></a-text>
        </a-image>

        <a-image
          event-set__down="_event: mousedown; position: 2.5 2 -3.8"
          event-set__up="_event: mouseup; position: 2.5 1.8 -3.8"
          event-set__leave="_event: mouseleave; position: 2.5 1.8 -3.8"
          event-set__down2="_event: mousedown; _target: #door5text; visible: true"
          event-set__up2="_event: mouseup; _target: #door5text; visible: false"
          event-set__leave2="_event: mouseleave; _target: #door5text; visible: false"
          position="2.5 1.8 -3.8"
          src="#door5"
          width="2"
          height="3.42">
          <a-text id="door5text"
            value="Oops! Try another door"
            align="center" 
            color="#FFF" 
            visible="false" 
            scale="0.6 0.6 0.6"
            position="0 0.8 0.1"
            geometry="primitive: plane; width: 3.5; height: 1.5" 
            material="color: #111111"></a-text>
        </a-image>

        <a-image
          event-set__down="_event: mousedown; position: 5 2 -3.8"
          event-set__up="_event: mouseup; position: 5 1.8 -3.8"
          event-set__leave="_event: mouseleave; position: 5 1.8 -3.8"
          event-set__down2="_event: mousedown; _target: #door6text; visible: true"
          event-set__up2="_event: mouseup; _target: #door6text; visible: false"
          event-set__leave2="_event: mouseleave; _target: #door6text; visible: false"
          position="5 1.8 -3.8"
          src="#door6"
          width="2"
          height="3.42">
          <a-text id="door6text"
            value="Oops! Try another door"
            align="center" 
            color="#FFF" 
            visible="false" 
            scale="0.6 0.6 0.6"
            position="0 0.8 0.1"
            geometry="primitive: plane; width: 3.5; height: 1.5" 
            material="color: #111111"></a-text>
        </a-image>

        <a-image
          event-set__down="_event: mousedown; position: 7.5 2 -3.8"
          event-set__up="_event: mouseup; position: 7.5 1.8 -3.8"
          event-set__leave="_event: mouseleave; position: 7.5 1.8 -3.8"
          event-set__down2="_event: mousedown; _target: #door7text; visible: true"
          event-set__up2="_event: mouseup; _target: #door7text; visible: false"
          event-set__leave2="_event: mouseleave; _target: #door7text; visible: false"
          position="7.5 1.8 -3.8"
          src="#door7"
          width="2"
          height="3.42">
          <a-text id="door7text"
            value="Oops! Try another door"
            align="center" 
            color="#FFF" 
            visible="false" 
            scale="0.6 0.6 0.6"
            position="0 0.8 0.1"
            geometry="primitive: plane; width: 3.5; height: 1.5" 
            material="color: #111111"></a-text>
        </a-image>
      </a-entity>

    </a-entity>

    <!-- third scene - facility process -->
    <!-- environment setup -->
    <a-entity id="scene3" visible="false">
      <a-entity id="scene3setup">
        <a-box id="scene3front"
          src="#scene3wall"
          position="0 0 -5"
          scale="25 15 0.2"
          material="side: double;"></a-box>
        <a-box id="scene3back"
          src="#scene3wall"
          position="0 0 5"
          scale="25 15 0.2"
          material="side: double;"></a-box>
        <a-box id="scene3roof"
          src="#scene3wall"
          position="0 7 0"
          scale="35 0.2 20"
          material="side: double;"></a-box>
        <a-box id="scene3floor"
          src="#scene3wall"
          position="0 0 0.6"
          scale="35 30 0.5"
          rotation="90 0 0"
          material="side: double"
          repeat="4 4"></a-box>
        <a-image id="arrow"
          src="#arrow"
          position="-13 0.4 -3"
          scale="6 4 4"
          rotation="-90 0 0"
          material="side: double"></a-image>
        <a-image id="wallarrow"
          src="#wallarrow"
          position="-9 1.2 -4.8"
          scale="3.3 1 3"></a-image>
        <a-video src="#recyclevid" 
          autoplay loop="true"
          width="5.31" 
          height="3" 
          position="-14 2 -12">
          <a-text
            value="informative video"
            position="0 2 -0.2"></a-text></a-video>
      </a-entity>
      <a-text id="helpjohn"
        value="Get ready for your next life!\nClick in the correct order\nto prepare yourself into plastic pellets"
        position="-8.2 4 -9.5"
        rotation = "0 -60 0"
        align="center"
        color="#000000"
      ></a-text>
      <a-entity id="facilityprocess1"
        layout="type: box; columns: 3; marginColumn: 2.2; marginRow: 1.2"
        position = "-10 1.5 -11"
        rotation = "0 -60 0"
        >
        <a-image id="iscut"
          event-set__hover="_event: mouseenter; scale: 2.2 1.2 0"
          event-set__down="_event: mousedown; scale: 2.2 1.2 0"
          event-set__up="_event: mouseup; scale: 2 1 0"
          event-set__leave="_event: mouseleave; scale: 2 1 0"
          event-set__down2="_event: mousedown; _target: #process5txt; visible: true"
          event-set__up2="_event: mouseup; _target: #process5txt; visible: false"
          event-set__leave2="_event: mouseleave; _target: #process5txt; visible: false"
          scale = "2 1 0"
          onclick=""
          src="#process5btn">
          <a-text id="process5txt" 
            value="Think again, try another step" 
            align="center" 
            color="#000000" 
            visible="false" 
            scale="0.3 0.6 0.3"
            position="0 -0.6 1"></a-text></a-image>
        <a-image id="ismelt"
          event-set__hover="_event: mouseenter; scale: 2.2 1.2 0"
          event-set__down="_event: mousedown; scale: 2.2 1.2 0"
          event-set__up="_event: mouseup; scale: 2 1 0"
          event-set__leave="_event: mouseleave; scale: 2 1 0"
          event-set__down2="_event: mousedown; _target: #process3txt; visible: true"
          event-set__up2="_event: mouseup; _target: #process3txt; visible: false"
          event-set__leave2="_event: mouseleave; _target: #process3txt; visible: false"
          scale = "2 1 0"
          onclick=""
          src="#process3btn">
          <a-text id="process3txt" 
            value="Think again, try another step" 
            align="center" 
            color="#000000" 
            visible="false" 
            scale="0.3 0.6 0.3"
            position="0 -0.6 1"></a-text></a-image>
        <a-image id="isclean" 
          event-set__hover="_event: mouseenter; scale: 2.2 1.2 0"
          event-set__down="_event: mousedown; scale: 2.2 1.2 0"
          event-set__up="_event: mouseup; scale: 2 1 0"
          event-set__leave="_event: mouseleave; scale: 2 1 0"
          event-set__down2="_event: mousedown; _target: #process2txt; visible: true"
          event-set__up2="_event: mouseup; _target: #process2txt; visible: false"
          event-set__leave2="_event: mouseleave; _target: #process2txt; visible: false"
          scale = "2 1 0"
          onclick=""
          src="#process2btn">
          <a-text id="process2txt" 
            value="Think again, try another step" 
            align="center" 
            color="#000000" 
            visible="false" 
            scale="0.3 0.6 0.3"
            position="0 -0.6 1"></a-text></a-image>
        <a-image id="isjohn"
          scale = "2 1 0"
          src="#preparejohn"></a-image>
        <a-image id="isform"
          event-set__hover="_event: mouseenter; scale: 2.2 1.2 0"
          event-set__down="_event: mousedown; scale: 2.2 1.2 0"
          event-set__up="_event: mouseup; scale: 2 1 0"
          event-set__leave="_event: mouseleave; scale: 2 1 0"
          event-set__down2="_event: mousedown; _target: #process4txt; visible: true"
          event-set__up2="_event: mouseup; _target: #process4txt; visible: false"
          event-set__leave2="_event: mouseleave; _target: #process4txt; visible: false"
          scale = "2 1 0"
          onclick=""
          src="#process4btn">
          <a-text id="process4txt" 
            value="Think again, try another step" 
            align="center" 
            color="#000000" 
            visible="false" 
            scale="0.3 0.6 0.3"
            position="0 0.6 1"></a-text></a-image>
        <a-image id="isshred"
          event-set__hover="_event: mouseenter; scale: 2.2 1.2 0"
          event-set__down="_event: mousedown; scale: 2.2 1.2 0; src: #process1"
          event-set__up="_event: mouseup; scale: 2 1 0"
          event-set__leave="_event: mouseleave; scale: 2 1 0"
          onclick="process1()"
          scale = "2 1 0"
          src="#process1btn"></a-image>
      </a-entity>
      <!-- <a-image id="isready"
        event-set__hover="_event: mouseenter; scale: 4.2 2.2 0"
        event-set__down="_event: mousedown; scale: 4.2 2.2 0"
        event-set__up="_event: mouseup; scale: 4 2 0"
        event-set__leave="_event: mouseleave; scale: 4 2 0"
        event-set__down2="_event: mousedown; _target: #process5txt; visible: true"
        event-set__up2="_event: mouseup; _target: #process5txt; visible: false"
        event-set__leave2="_event: mouseleave; _target: #process5txt; visible: false"
        visible="false"
        scale = "4 2 0"
        position="-10 1 -7"
        rotation="0 -180 0"
        onclick="toScene4()"
        src="#johnready"></a-image> -->
      <a-image id="isready"
        event-set__hover="_event: mouseenter; scale: 4.2 2.2 0"
        event-set__down="_event: mousedown; scale: 4.2 2.2 0"
        event-set__up="_event: mouseup; scale: 4 2 0"
        event-set__leave="_event: mouseleave; scale: 4 2 0"
        visible="false"
        rotation="0 -180 0"
        scale = "3 1.5 0"
        position="-10 2 -5.5"
        onclick="toScene4()"
        src="#johnready"></a-image>
    </a-entity>

    <!-- fourth scene - choose new life -->
    <a-entity id="scene4" visible="false">
      <a-box id="scene4floor"
        src="#scene4floor"
        position="0 0 0.3"
        scale="10 10 0.3"
        rotation="90 0 0"
        material="side: double"
        repeat="4 4"></a-box>
      <a-cylinder
        color="gold"
        position="0 0.2 0"
        height="0.5" 
        radius="1.5"></a-cylinder>
      <a-text id="choose_life"
        value="Click on the pellets and\nchoose your next life"
        align="center"
        color="#000000"
        position="0 2.5 0"
        rotation="0 180 0"></a-text>
      <a-entity id="pelletballs"
        position="0 0.8 0"
        onclick="">
        <a-sphere
          position="0 0 0"
          radius="0.1"
          color="blue"></a-sphere>
        <a-sphere
          position="1 0 0"
          radius="0.1"
          color="blue"></a-sphere>
        <!-- <a-entity gltf-model="#pelletmodel"></a-entity> -->
        <a-entity gltf-model="#pelletmodel" scale="0.1 0.1 0.1" position="0 2 -3"></a-entity>
      </a-entity>
    </a-entity>

  <!-- fifth scene - ending scene with more information -->

  <!-- remember to delete the shortcut box -->

    <!-- camera -->
    <a-camera wasd-controls="acceleration: 20">
      <a-entity id="instructions"
        text="value: CONTROLS\nMove around with WASD or Arrow Keys\nClick and drag with Mouse or Track Pad to aim" 
        position="-0.8 -0.65 -1"
        visible="false"
        scale="0.7 0.7 0.7">
      </a-entity>
      <a-cursor
        color="#ffc843">
      </a-cursor>
    </a-camera>
    
  </a-scene>

  <!-- javascript -->
  <script type="text/javascript">  
    // show instructions
    function control_intructions() {
      document.getElementById('instructions').setAttribute('visible', 'true')
      document.getElementById('scene1').setAttribute('visible', 'true')
    }
    // confirm character
    function callconfirm() {
      document.getElementById('confirmbox').setAttribute('visible', 'true')
    }
    // switch to scene 2
    function toScene2() {
      document.getElementById('scene1').setAttribute('visible', 'false')
      document.getElementById('scene2').setAttribute('visible', 'true')
      document.getElementById('instructions').setAttribute('visible', 'false')
    }
    // reset scene 2
    function resetScene2() {
      document.getElementById('goddess_welcome').setAttribute('visible', 'false')
      document.getElementById('wallofdoors').setAttribute('visible', 'true')
    }
    // confirm door
    function callconfirmbox2() {
      document.getElementById('confirmbox2').setAttribute('visible', 'true')
    }
    // switch to scene 3
    function toScene3() {
      document.getElementById('scene1').setAttribute('visible', 'false')
      document.getElementById('scene2').setAttribute('visible', 'false')
      document.getElementById('scene3').setAttribute('visible', 'true')
    }
    // when click on shred john
    function process1() {
      document.getElementById('isjohn').setAttribute('src', '#shredjohn')
      document.getElementById('isshred').setAttribute('onclick', '')
      document.getElementById('process2txt').setAttribute('value', '')
      document.getElementById('isclean').setAttribute('onclick', 'process2()')
    }
    // when click on clean john
    function process2() {
      //change the top left image
      document.getElementById('isjohn').setAttribute('src', '#cleanjohn')
      //set "you got it correct" image for clicked item
      document.getElementById('isclean').setAttribute('src', '#process2')
      //take out text so it wouldn't say you're wrong when you click on the right thing for next one
      document.getElementById('process3txt').setAttribute('value', '')
      //prep for next scene
      document.getElementById('ismelt').setAttribute('onclick', 'process3()')
      //take out function so doesn't change the john pic
      document.getElementById('isclean').setAttribute('onclick', '')
    }
    // when click on melt john
    function process3() {
      //change the top left image
      document.getElementById('isjohn').setAttribute('src', '#meltjohn')
      //set "you got it correct" image for clicked item
      document.getElementById('ismelt').setAttribute('src', '#process3')
      //take out text so it wouldn't say you're wrong when you click on the right thing for next one
      document.getElementById('process4txt').setAttribute('value', '')
      //prep for next scene
      document.getElementById('isform').setAttribute('onclick', 'process4()')
      //take out function so doesn't change the john pic
      document.getElementById('ismelt').setAttribute('onclick', '')
    }
    // when click on form john
    function process4() {
      //change the top left image
      document.getElementById('isjohn').setAttribute('src', '#formjohn')
      //set "you got it correct" image for clicked item
      document.getElementById('isform').setAttribute('src', '#process4')
      //take out text so it wouldn't say you're wrong when you click on the right thing for next one
      document.getElementById('process5txt').setAttribute('value', '')
      //prep for next scene
      document.getElementById('iscut').setAttribute('onclick', 'process5()')
      //take out function so doesn't change the john pic
      document.getElementById('isform').setAttribute('onclick', '')
    }
    // when click on cut john
    function process5() {
      //change the top left image
      document.getElementById('isjohn').setAttribute('src', '#cutjohn')
      //set "you got it correct" image for clicked item
      document.getElementById('iscut').setAttribute('src', '#process5')
      //prep for next scene
      document.getElementById('isready').setAttribute('visible', 'true')
      //take out function so doesn't change the john pic
      document.getElementById('iscut').setAttribute('onclick', '')
      //change text on top
      document.getElementById('helpjohn').setAttribute('value', 'You are ready!\nLook to your right and click\nthe green "Ready!" button to proceed')
    }
    // to scene 4
    function toScene4() {
      document.getElementById('scene1').setAttribute('visible', 'false')
      document.getElementById('scene3').setAttribute('visible', 'false')
      document.getElementById('scene4').setAttribute('visible', 'true')
    }

</script>

</body>
</html>